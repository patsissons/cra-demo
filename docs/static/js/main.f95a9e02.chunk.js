(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t){},189:function(e,t,n){"use strict";var r=n(12),a=n.n(r),o=n(19),i=n(48),c=n(191),s=n(192),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.items,a=n.simulatedLatency;Object(c.a)(this,e),this.currentId=1,this.itemMap=new Map,this.simulatedLatency=void 0,this.simulatedLatency=a,(r||[{isComplete:!0,text:"something"},{text:"Another thing"}]).forEach(function(e){return t.create(e)})}return Object(s.a)(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.nextId();return this.itemMap.set(t,Object(i.a)({id:String(t),isComplete:!1,text:""},e)),this.fetch()}},{key:"fetch",value:function(){var e=Object(o.a)(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.simulatedLatency){e.next=3;break}return e.next=3,new Promise(function(e){return setTimeout(e,t.simulatedLatency)});case 3:return e.abrupt("return",this.items);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(e){return this.itemMap.delete(e.id),this.fetch()}},{key:"update",value:function(e){return this.itemMap.has(e.id)&&this.itemMap.set(e.id,e),this.fetch()}},{key:"nextId",value:function(){return String(this.currentId++)}},{key:"items",get:function(){return Array.from(this.itemMap.values())}}]),e}();n.d(t,"a",function(){return u})},190:function(e,t,n){"use strict";var r=n(189);n.d(t,"EphemeralDataSource",function(){return r.a});n(188)},193:function(e,t,n){e.exports=n(461)},459:function(e,t,n){var r={"./en.json":70};function a(e){return o(e).then(function(e){return n.t(e,3)})}function o(e){return Promise.resolve().then(function(){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]})}a.keys=function(){return Object.keys(r)},a.resolve=o,a.id=459,e.exports=a},461:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"register",function(){return W}),n.d(r,"unregister",function(){return R});var a=n(0),o=n.n(a),i=n(29),c=n.n(i),s=n(30),u=n(6),l=n(12),m=n.n(l),p=n(19),d=n(16),f=!1,v=!0,b=n(70),g=new s.I18nManager({locale:"en"},b);var h,j=n(48),E=n(2),O=n(66),w=n(50);!function(e){e.Remove="remove",e.Save="save",e.Toggle="toggle"}(h||(h={}));var k=n(95),x=n.n(k);function y(e,t,n,r,a){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(m.a.mark(function e(t,n,r,a,o){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,o();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(n);case 9:t.current&&a(!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function C(e){e&&(e.preventDefault(),e.stopPropagation())}var L=function(e){var t=e.item,n=e.removeItem,r=e.toggleComplete,i=e.updateText,c=t.id,l=t.isComplete,f=t.text,v=Object(O.useMountedRef)(),b=Object(s.useI18n)(),g=Object(d.a)(b,1)[0],j=function(e,t,n){var r=Object(a.useState)(!1),o=Object(d.a)(r,2),i=o[0],c=o[1],s=Object(a.useState)(!1),u=Object(d.a)(s,2),l=u[0],f=u[1],v=Object(a.useState)(!1),b=Object(d.a)(v,2),g=b[0],j=b[1],E=Object(a.useState)(null),O=Object(d.a)(E,2),k=O[0],x=O[1],y=Object(w.useForm)({fields:{text:Object(w.useField)({validates:[Object(w.notEmpty)(e.translate("useTodoListItem.validation.empty")),Object(w.notEmptyString)(e.translate("useTodoListItem.validation.empty")),function(t){if("error"===t)return e.translate("useTodoListItem.validation.error")}],value:i?t.text:""})},onSubmit:e=>Object(p.a)(m.a.mark(function t(){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.text,t.prev=1,t.next=4,n(r);case 4:return c(!1),L(),t.abrupt("return",{status:"success"});case 9:return t.prev=9,t.t0=t.catch(1),x(h.Save),t.abrupt("return",{status:"fail",errors:[]});case 13:case"end":return t.stop()}},t,null,[[1,9]])}))()}),I=y.dirty,C=y.fields,L=y.reset,T=y.submit,S=y.submitting,A=Object(a.useCallback)(function(){return i?"editing":t.isComplete?"done":"TBD"},[i,t.isComplete]);return Object(a.useEffect)(function(){t.text||c(!0)},[t.text,i]),Object(a.useDebugValue)("Item (".concat(A(),")")),{error:k,dirty:I,fields:C,isEditing:i,removing:l,reset:L,setError:x,setIsEditing:c,setRemoving:f,setToggling:j,submit:T,submitting:S,toggling:g}}(g,t,i),k=j.error,I=j.dirty,L=j.fields,T=j.isEditing,S=j.removing,A=j.setError,_=j.setIsEditing,D=j.setRemoving,M=j.setToggling,W=j.submit,N=j.submitting,R=j.toggling,P=L.text.error?[{field:"text",message:L.text.error}]:[],B=Object(a.useCallback)(function(){T||y(v,h.Toggle,A,M,r)},[T,v,A,M,r]),U=Object(a.useCallback)(function(){A(null)},[A]),F=Object(a.useCallback)(function(e){C(e),_(!T)},[_,T]),q=Object(a.useCallback)(function(e){C(e),y(v,h.Remove,A,D,n)},[v,n,A,D]),z=Object(a.useCallback)(function(e){var n=e.key;if(T)switch(n){case"Enter":I&&0===P.length&&W();break;case"Escape":t.text?_(!1):q()}},[I,P.length,q,T,t.text,_,W]),J=Object(a.useCallback)(function(e){C(e),W()},[W]);return o.a.createElement("div",{className:l?x.a.CompletedItem:void 0,onKeyDown:z},o.a.createElement(u.j.Item,{id:c,accessibilityLabel:g.translate("TodoListItem.accessibilityLabel"),onClick:B},o.a.createElement(u.n,{alignment:"center"},o.a.createElement(u.f,{source:"notes"}),o.a.createElement(u.n.Item,{fill:!0},T?o.a.createElement(u.o,Object.assign({autoFocus:!0,disabled:N,label:"",placeholder:g.translate("TodoListItem.placeholder"),connectedRight:o.a.createElement(u.b,{disabled:!I||P.length>0,loading:N,onClick:J,primary:!0},g.translate("TodoListItem.save"))},L.text)):o.a.createElement("p",{className:l?x.a.CompletedText:void 0},f)),o.a.createElement(u.r,{content:g.translate("TodoListItem.tooltip.".concat(T?"cancel":"edit"))},o.a.createElement(u.b,{onClick:F,primary:!T,icon:T?"cancel":o.a.createElement(u.f,{color:"white",source:E.H})})),o.a.createElement(u.r,{content:g.translate("TodoListItem.tooltip.delete")},o.a.createElement(u.b,{loading:S,onClick:q,destructive:!0,icon:"delete"})),R?o.a.createElement(u.m,{size:"small"}):o.a.createElement(u.r,{content:g.translate("TodoListItem.tooltip.".concat(l?"complete":"incomplete"))},l?o.a.createElement(u.f,{color:"green",source:E.B}):o.a.createElement(u.f,{color:"black",source:E.x}))),k&&o.a.createElement(u.q,{content:g.translate("TodoListItem.error.".concat(k)),onDismiss:U,error:!0})))};var T,S=function(e){var t=e.items,n=e.remove,r=e.update,i=Object(s.useI18n)(),c=Object(d.a)(i,1)[0],l=Object(a.useCallback)(function(e){return o.a.createElement(L,{item:e,removeItem:function(){return n(e)},toggleComplete:function(){return r(Object(j.a)({},e,{isComplete:!e.isComplete}))},updateText:function(t){return r(Object(j.a)({},e,{text:t}))}})},[n,r]);return o.a.createElement(u.j,{resourceName:{plural:c.translate("TodoList.resourceNames.plural"),singular:c.translate("TodoList.resourceNames.singular")},items:t,renderItem:l})},A=n(190);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?T.Ephemeral:t,r=e.params,o=Object(a.useMemo)(function(){return function(e,t){return new A.EphemeralDataSource(t)}(0,r)},[n,r]),i=Object(a.useState)(!0),c=Object(d.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)([]),f=Object(d.a)(l,2),v=f[0],b=f[1];return Object(a.useDebugValue)("Todo Items (".concat(v.length,")")),Object(a.useEffect)(function(){(function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,o.fetch();case 3:e.t1=e.sent,(0,e.t0)(e.t1),u(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[o]),{items:v,loading:s,create:function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,o.create(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,o.remove(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,o.update(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}!function(e){e[e.Ephemeral=0]="Ephemeral"}(T||(T={}));var D=function(){var e=Object(s.useI18n)({id:"App_<hash>",fallback:b,translations:e=>Object(p.a)(m.a.mark(function t(){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(459)("./".concat(e,".json"));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}))()}),t=Object(d.a)(e,2),r=t[0],i=t[1],c=Object(a.useState)(!1),l=Object(d.a)(c,2),g=l[0],h=l[1],j=Object(a.useState)(!1),E=Object(d.a)(j,2),O=E[0],w=E[1],k=_(Object(a.useMemo)(function(){return f||v?{params:{simulatedLatency:1e3}}:void 0},[])),x=k.items,y=k.loading,I=k.create,C=k.remove,L=k.update,T=Object(a.useCallback)(function(){w(!1)},[w]);return y?o.a.createElement(u.l,{primaryAction:!0,title:r.translate("App.title")},o.a.createElement(u.c,{sectioned:!0},o.a.createElement(u.k,null)),o.a.createElement(u.h,null)):o.a.createElement(i,null,o.a.createElement(u.i,{title:r.translate("App.title"),primaryAction:{content:r.translate("App.create"),loading:g,onAction:()=>Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,I();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),w(!0);case 9:h(!1);case 10:case"end":return e.stop()}},e,null,[[1,6]])}))()}},o.a.createElement(u.c,null,o.a.createElement(S,{items:x,remove:C,update:L})),o.a.createElement(u.d,null,r.translate("App.footer",{polarisLink:o.a.createElement(u.g,{url:"https://polaris.shopify.com"},r.translate("App.polarisLink"))}))),O&&o.a.createElement(u.q,{content:r.translate("App.error"),onDismiss:T,error:!0}))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e){if("serviceWorker"in navigator){if(new URL("/cra-demo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/cra-demo","/service-worker.js");M?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):N(t,e)})}}function N(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function R(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var P={};n(460);!function(){function e(e,t){e&&e.prototype[t]&&(e.prototype[t].__suppressDeprecationWarning=!0)}f&&console.warn("supressing warnings for polaris usage of deprecated lifecycle functions"),e(u.a,"componentWillReceiveProps"),e(u.p,"componentWillReceiveProps")}(),c.a.render(o.a.createElement(u.a,{theme:P},o.a.createElement(s.I18nContext.Provider,{value:g},o.a.createElement(u.e,null,o.a.createElement(D,null)))),document.getElementById("root")),r.unregister()},70:function(e){e.exports={App:{create:"Create new item",error:"Error creating new item",footer:"Built using {polarisLink}",polarisLink:"Polaris",title:"Todo List"},TodoList:{resourceNames:{plural:"items",singular:"item"}},TodoListItem:{accessibilityLabel:"List item",error:{remove:"Error removing item",save:"Error saving item",toggle:"Error toggling item"},placeholder:"Enter todo notes",save:"Save",tooltip:{cancel:"Cancel editing this todo item",complete:"Click this item to mark it incomplete",delete:"Delete this todo item",edit:"Edit this todo item",incomplete:"Click this item to mark it complete"}},useTodoListItem:{validation:{empty:"Text cannot be empty",error:"Text cannot be 'error'"}}}},95:function(e,t,n){e.exports={Icon:"TodoListItem_Icon__2N7wg",CompletedItem:"TodoListItem_CompletedItem__3bSqz",CompletedText:"TodoListItem_CompletedText__mQS01"}}},[[193,1,2]]]);
//# sourceMappingURL=main.f95a9e02.chunk.js.map
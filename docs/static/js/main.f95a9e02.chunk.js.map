{"version":3,"sources":["services/TodoItemService/EphemeralDataSource/EphemeralDataSource.ts","services/TodoItemService/EphemeralDataSource/index.ts","services/TodoItemService/index.ts","components/App/translations lazy-once /^/.//.*/.json$/ groupOptions: {} namespace object","utilities/env.ts","utilities/i18nManager.tsx","components/App/translations/index.ts","components/App/components/TodoList/components/TodoListItem/hooks/useTodoListItem/useTodoListItem.ts","components/App/components/TodoList/components/TodoListItem/TodoListItem.tsx","components/App/components/TodoList/components/TodoListItem/index.ts","components/App/components/TodoList/index.ts","components/App/hooks/useTodoListService/useTodoListService.ts","components/App/components/TodoList/TodoList.tsx","components/App/index.ts","components/App/App.tsx","server/serviceWorker.ts","style/theme.ts","utilities/polaris.ts","index.tsx","components/App/components/TodoList/components/TodoListItem/TodoListItem.module.scss"],"names":["EphemeralDataSource","_this","this","_ref","arguments","length","undefined","items","simulatedLatency","Object","classCallCheck","currentId","itemMap","Map","isComplete","text","forEach","item","create","createClass","key","value","input","id","nextId","set","objectSpread","String","fetch","_fetch","asyncToGenerator","regenerator_default","a","mark","_callee","_this2","wrap","_context","prev","next","Promise","resolve","setTimeout","abrupt","stop","apply","delete","has","get","Array","from","values","__webpack_require__","d","__webpack_exports__","EphemeralDataSource_EphemeralDataSource","_EphemeralDataSource__WEBPACK_IMPORTED_MODULE_0__","map","./en.json","webpackAsyncContext","req","webpackAsyncContextResolve","then","t","o","e","Error","code","keys","module","exports","isDevelopment","process","isProduction","i18nManager","I18nManager","locale","fallbackTranslations","ErrorType","errorableAction","_x","_x2","_x3","_x4","_x5","_errorableAction","isMounted","errorType","setError","setInvoking","action","t0","current","preventToggleEvent","event","preventDefault","stopPropagation","TodoListItem","removeItem","toggleComplete","updateText","useMountedRef","_useI18n","useI18n","i18n","slicedToArray","_useTodoListItem","_useState","useState","_useState2","isEditing","setIsEditing","_useState3","_useState4","removing","setRemoving","_useState5","_useState6","toggling","setToggling","_useState7","_useState8","error","_useForm","useForm","fields","useField","validates","notEmpty","translate","notEmptyString","onSubmit","reset","status","Save","errors","dirty","submit","submitting","useCallback","useEffect","useDebugValue","concat","useTodoListItem","formErrors","field","message","handleClick","Toggle","handleDismissToast","handleEdit","handleRemove","Remove","handleKeyDown","_ref2","handleSave","react_default","createElement","className","styles","CompletedItem","onKeyDown","index_es","Item","accessibilityLabel","onClick","alignment","source","fill","assign","autoFocus","disabled","label","placeholder","connectedRight","loading","primary","CompletedText","content","icon","color","EditMajorTwotone","destructive","size","CircleTickMajorTwotone","CircleDotsMajorTwotone","onDismiss","TodoList","Type","remove","update","renderItem","components_TodoListItem","resourceName","plural","singular","useTodoListService","_ref$type","type","Ephemeral","params","dataSource","useMemo","createDataSource","setLoading","setItems","t1","sent","fetchItems","_create","_callee2","itemInput","_context2","_remove","_callee3","_context3","_update","_callee4","_context4","App","fallback","translations","dictionary","_useI18n2","ShareTranslations","creating","setCreating","_useTodoListService","primaryAction","title","sectioned","onAction","components_TodoList","polarisLink","url","isLocalhost","Boolean","window","location","hostname","match","register","config","navigator","URL","href","origin","addEventListener","swUrl","response","contentType","headers","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","theme","supressDeprecationWarning","ComponentClass","lifecycle","prototype","__suppressDeprecationWarning","warn","AppProvider","ThemeProvider","patchPolarisForReact169","ReactDOM","render","dist","Provider","components_App","document","getElementById","Icon"],"mappings":"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","file":"static/js/main.f95a9e02.chunk.js","sourcesContent":["import {TodoItem} from 'models';\nimport {CreateInput, DataSource} from '../DataSource';\n\ninterface Params {\n  items?: Partial<TodoItem>[];\n  simulatedLatency?: number;\n}\n\nexport class EphemeralDataSource implements DataSource {\n  private currentId = 1;\n  private readonly itemMap = new Map<string, TodoItem>();\n  private readonly simulatedLatency: number | undefined;\n\n  constructor({items, simulatedLatency}: Params = {}) {\n    this.simulatedLatency = simulatedLatency;\n    (\n      items || [{isComplete: true, text: 'something'}, {text: 'Another thing'}]\n    ).forEach((item) => this.create(item));\n  }\n\n  create(input: CreateInput = {}): Promise<TodoItem[]> {\n    const id = this.nextId();\n\n    this.itemMap.set(id, {\n      id: String(id),\n      isComplete: false,\n      text: '',\n      ...input,\n    });\n\n    return this.fetch();\n  }\n\n  async fetch() {\n    /* istanbul ignore if */\n    if (this.simulatedLatency) {\n      await new Promise((resolve) =>\n        setTimeout(resolve, this.simulatedLatency),\n      );\n    }\n\n    return this.items;\n  }\n\n  remove(item: TodoItem) {\n    this.itemMap.delete(item.id);\n\n    return this.fetch();\n  }\n\n  update(item: TodoItem) {\n    if (this.itemMap.has(item.id)) {\n      this.itemMap.set(item.id, item);\n    }\n\n    return this.fetch();\n  }\n\n  private get items() {\n    return Array.from(this.itemMap.values());\n  }\n\n  private nextId() {\n    return String(this.currentId++);\n  }\n}\n","export {EphemeralDataSource} from './EphemeralDataSource';\n","export {EphemeralDataSource} from './EphemeralDataSource';\n\nexport * from './DataSource';\n","var map = {\n\t\"./en.json\": 70\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(function(id) {\n\t\treturn __webpack_require__.t(id, 3);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn Promise.resolve(/* lazy-once context */).then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 459;\nmodule.exports = webpackAsyncContext;","/* eslint-disable no-process-env */\nexport const isDevelopment = process.env.NODE_ENV === 'development';\nexport const isProduction = process.env.NODE_ENV === 'production';\nexport const isTest = process.env.NODE_ENV === 'test';\n","import {I18nManager} from '@shopify/react-i18n';\n\n// eslint-disable-next-line shopify/strict-component-boundaries\nimport {\n  fallbackLocale,\n  fallbackTranslations,\n} from 'components/App/translations';\n\nexport const i18nManager = new I18nManager(\n  {locale: fallbackLocale},\n  fallbackTranslations,\n);\n","import fallbackTranslations from './en.json';\n\nexport const fallbackLocale = 'en';\nexport {fallbackTranslations};\n","import {useCallback, useDebugValue, useEffect, useState} from 'react';\nimport {notEmpty, notEmptyString, useForm, useField} from '@shopify/react-form';\nimport {I18n} from '@shopify/react-i18n';\nimport {TodoItem} from 'models';\n\nexport enum ErrorType {\n  Remove = 'remove',\n  Save = 'save',\n  Toggle = 'toggle',\n}\n\nexport function useTodoListItem(\n  i18n: I18n,\n  item: TodoItem,\n  updateText: (text: string) => Promise<any>,\n) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [removing, setRemoving] = useState(false);\n  const [toggling, setToggling] = useState(false);\n  const [error, setError] = useState<ErrorType | null>(null);\n  const {dirty, fields, reset, submit, submitting} = useForm({\n    fields: {\n      text: useField({\n        validates: [\n          notEmpty(i18n.translate('useTodoListItem.validation.empty')),\n          notEmptyString(i18n.translate('useTodoListItem.validation.empty')),\n          (value) => {\n            if (value === 'error') {\n              return i18n.translate('useTodoListItem.validation.error');\n            }\n\n            return undefined;\n          },\n        ],\n        value: isEditing ? item.text : '',\n      }),\n    },\n    async onSubmit({text}) {\n      try {\n        await updateText(text);\n        setIsEditing(false);\n        reset();\n        return {status: 'success'};\n      } catch {\n        setError(ErrorType.Save);\n        return {status: 'fail', errors: []};\n      }\n    },\n  });\n  /* istanbul ignore next */\n  const status = useCallback(() => {\n    if (isEditing) {\n      return 'editing';\n    }\n\n    return item.isComplete ? 'done' : 'TBD';\n  }, [isEditing, item.isComplete]);\n  useEffect(() => {\n    if (!item.text) {\n      setIsEditing(true);\n    }\n  }, [item.text, isEditing]);\n  useDebugValue(`Item (${status()})`);\n\n  return {\n    error,\n    dirty,\n    fields,\n    isEditing,\n    removing,\n    reset,\n    setError,\n    setIsEditing,\n    setRemoving,\n    setToggling,\n    submit,\n    submitting,\n    toggling,\n  };\n}\n","import React, {\n  Dispatch,\n  KeyboardEvent,\n  MutableRefObject,\n  SetStateAction,\n  useCallback,\n} from 'react';\nimport {\n  Button,\n  Icon,\n  ResourceList,\n  Spinner,\n  Stack,\n  TextField,\n  Toast,\n  Tooltip,\n} from '@shopify/polaris';\nimport {\n  CircleDotsMajorTwotone,\n  CircleTickMajorTwotone,\n  EditMajorTwotone,\n} from '@shopify/polaris-icons';\nimport {useMountedRef} from '@shopify/react-hooks';\nimport {useI18n} from '@shopify/react-i18n';\nimport {TodoItem} from 'models';\nimport {ErrorType, useTodoListItem} from './hooks';\nimport styles from './TodoListItem.module.scss';\n\nexport interface Props {\n  item: TodoItem;\n  toggleComplete(): Promise<any>;\n  updateText(text: string): Promise<any>;\n  removeItem(): Promise<any>;\n}\n\nexport default function TodoListItem({\n  item,\n  removeItem,\n  toggleComplete,\n  updateText,\n}: Props) {\n  const {id, isComplete, text} = item;\n  const isMounted = useMountedRef();\n  const [i18n] = useI18n();\n  const {\n    error,\n    dirty,\n    fields,\n    isEditing,\n    removing,\n    setError,\n    setIsEditing,\n    setRemoving,\n    setToggling,\n    submit,\n    submitting,\n    toggling,\n  } = useTodoListItem(i18n, item, updateText);\n  // validate() is causing an infinite loop\n  // const formErrors = validate();\n  const formErrors = fields.text.error\n    ? [{field: 'text', message: fields.text.error}]\n    : [];\n  const handleClick = useCallback(() => {\n    if (!isEditing) {\n      errorableAction(\n        isMounted,\n        ErrorType.Toggle,\n        setError,\n        setToggling,\n        toggleComplete,\n      );\n    }\n  }, [isEditing, isMounted, setError, setToggling, toggleComplete]);\n  const handleDismissToast = useCallback(() => {\n    setError(null);\n  }, [setError]);\n  const handleEdit = useCallback(\n    (event?: MouseEvent) => {\n      preventToggleEvent(event);\n      setIsEditing(!isEditing);\n    },\n    [setIsEditing, isEditing],\n  );\n  const handleRemove = useCallback(\n    (event?: MouseEvent) => {\n      preventToggleEvent(event);\n      errorableAction(\n        isMounted,\n        ErrorType.Remove,\n        setError,\n        setRemoving,\n        removeItem,\n      );\n    },\n    [isMounted, removeItem, setError, setRemoving],\n  );\n  const handleKeyDown = useCallback(\n    ({key}: KeyboardEvent) => {\n      if (isEditing) {\n        switch (key) {\n          case 'Enter':\n            if (dirty && formErrors.length === 0) {\n              submit();\n            }\n            break;\n          case 'Escape':\n            if (item.text) {\n              setIsEditing(false);\n            } else {\n              handleRemove();\n            }\n            break;\n        }\n      }\n    },\n    [\n      dirty,\n      formErrors.length,\n      handleRemove,\n      isEditing,\n      item.text,\n      setIsEditing,\n      submit,\n    ],\n  );\n  const handleSave = useCallback(\n    (event?: MouseEvent) => {\n      preventToggleEvent(event);\n      submit();\n    },\n    [submit],\n  );\n\n  return (\n    <div\n      className={isComplete ? styles.CompletedItem : undefined}\n      onKeyDown={handleKeyDown}\n    >\n      <ResourceList.Item\n        id={id}\n        accessibilityLabel={i18n.translate('TodoListItem.accessibilityLabel')}\n        onClick={handleClick}\n      >\n        <Stack alignment=\"center\">\n          <Icon source=\"notes\" />\n          <Stack.Item fill>\n            {isEditing ? (\n              <TextField\n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus\n                disabled={submitting}\n                label=\"\"\n                placeholder={i18n.translate('TodoListItem.placeholder')}\n                connectedRight={\n                  <Button\n                    disabled={!dirty || formErrors.length > 0}\n                    loading={submitting}\n                    onClick={handleSave}\n                    primary\n                  >\n                    {i18n.translate('TodoListItem.save')}\n                  </Button>\n                }\n                {...fields.text}\n                // this will remove the error text and only render the outline effect\n                // error={Boolean(fields.text.error)}\n              />\n            ) : (\n              <p className={isComplete ? styles.CompletedText : undefined}>\n                {text}\n              </p>\n            )}\n          </Stack.Item>\n          <Tooltip\n            content={i18n.translate(\n              `TodoListItem.tooltip.${isEditing ? 'cancel' : 'edit'}`,\n            )}\n          >\n            <Button\n              onClick={handleEdit}\n              primary={!isEditing}\n              icon={\n                isEditing ? (\n                  'cancel'\n                ) : (\n                  <Icon color=\"white\" source={EditMajorTwotone} />\n                )\n              }\n            />\n          </Tooltip>\n          <Tooltip content={i18n.translate('TodoListItem.tooltip.delete')}>\n            <Button\n              loading={removing}\n              onClick={handleRemove}\n              destructive\n              icon=\"delete\"\n            />\n          </Tooltip>\n          {toggling ? (\n            <Spinner size=\"small\" />\n          ) : (\n            <Tooltip\n              content={i18n.translate(\n                `TodoListItem.tooltip.${\n                  isComplete ? 'complete' : 'incomplete'\n                }`,\n              )}\n            >\n              {isComplete ? (\n                <Icon color=\"green\" source={CircleTickMajorTwotone} />\n              ) : (\n                <Icon color=\"black\" source={CircleDotsMajorTwotone} />\n              )}\n            </Tooltip>\n          )}\n        </Stack>\n        {error && (\n          <Toast\n            content={i18n.translate(`TodoListItem.error.${error}`)}\n            onDismiss={handleDismissToast}\n            error\n          />\n        )}\n      </ResourceList.Item>\n    </div>\n  );\n}\n\nexport async function errorableAction(\n  isMounted: MutableRefObject<boolean>,\n  errorType: ErrorType,\n  setError: Dispatch<SetStateAction<ErrorType | null>>,\n  setInvoking: Dispatch<SetStateAction<boolean>>,\n  action: () => Promise<any>,\n) {\n  try {\n    setInvoking(true);\n    await action();\n  } catch {\n    setError(errorType);\n  }\n\n  if (isMounted.current) {\n    setInvoking(false);\n  }\n}\n\nexport function preventToggleEvent(event?: MouseEvent) {\n  /* istanbul ignore else */\n  if (event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","import TodoListItem from './TodoListItem';\n\nexport default TodoListItem;\n","import TodoList from './TodoList';\n\nexport default TodoList;\n","import {useDebugValue, useEffect, useMemo, useState} from 'react';\n\nimport {TodoItem} from 'models';\nimport {\n  CreateInput,\n  DataSource,\n  EphemeralDataSource,\n} from 'services/TodoItemService';\n\nexport enum Type {\n  Ephemeral,\n}\n\nexport interface Options {\n  type?: Type;\n  params?: {};\n}\n\nexport function useTodoListService({\n  type = Type.Ephemeral,\n  params,\n}: Options = {}) {\n  const dataSource = useMemo(() => createDataSource(type, params), [\n    type,\n    params,\n  ]);\n  const [loading, setLoading] = useState(true);\n  const [items, setItems] = useState<TodoItem[]>([]);\n  useDebugValue(`Todo Items (${items.length})`);\n\n  useEffect(() => {\n    const fetchItems = async () => {\n      setItems(await dataSource.fetch());\n      setLoading(false);\n    };\n\n    fetchItems();\n  }, [dataSource]);\n\n  return {\n    items,\n    loading,\n    create: async (itemInput?: CreateInput) => {\n      setItems(await dataSource.create(itemInput));\n    },\n    remove: async (item: TodoItem) => {\n      setItems(await dataSource.remove(item));\n    },\n    update: async (item: TodoItem) => {\n      setItems(await dataSource.update(item));\n    },\n  };\n}\n\nexport function createDataSource(type: Type, params?: {}): DataSource {\n  switch (type) {\n    default:\n      return new EphemeralDataSource(params);\n  }\n}\n","import React, {useCallback} from 'react';\nimport {ResourceList} from '@shopify/polaris';\nimport {useI18n} from '@shopify/react-i18n';\nimport {TodoItem} from 'models';\nimport {TodoListItem} from './components';\n\nexport interface Props {\n  items: TodoItem[];\n  remove(item: TodoItem): Promise<any>;\n  update(item: TodoItem): Promise<any>;\n}\n\nexport default function TodoList({items, remove, update}: Props) {\n  const [i18n] = useI18n();\n  const renderItem = useCallback(\n    (item: TodoItem) => {\n      function toggleComplete() {\n        return update({...item, isComplete: !item.isComplete});\n      }\n\n      function updateText(text: string) {\n        return update({...item, text});\n      }\n\n      function removeItem() {\n        return remove(item);\n      }\n\n      return (\n        <TodoListItem\n          item={item}\n          removeItem={removeItem}\n          toggleComplete={toggleComplete}\n          updateText={updateText}\n        />\n      );\n    },\n    [remove, update],\n  );\n\n  return (\n    <ResourceList\n      resourceName={{\n        plural: i18n.translate('TodoList.resourceNames.plural'),\n        singular: i18n.translate('TodoList.resourceNames.singular'),\n      }}\n      items={items}\n      renderItem={renderItem}\n    />\n  );\n}\n","import App from './App';\n\nexport default App;\n","import React, {useCallback, useMemo, useState} from 'react';\nimport {\n  Card,\n  FooterHelp,\n  Loading,\n  Link,\n  Page,\n  SkeletonPage,\n  SkeletonBodyText,\n  Toast,\n} from '@shopify/polaris';\nimport {useI18n} from '@shopify/react-i18n';\nimport {isDevelopment, isProduction} from 'utilities';\nimport {TodoList} from './components';\nimport {useTodoListService} from './hooks';\nimport {fallbackTranslations} from './translations';\n\nexport default function App() {\n  const [i18n, ShareTranslations] = useI18n({\n    id: 'App_<hash>',\n    fallback: fallbackTranslations,\n    async translations(locale) {\n      const dictionary = await import(\n        /* webpackChunkName: \"App_<hash>-i18n\", webpackMode: \"lazy-once\" */ `./translations/${locale}.json`\n      );\n      return dictionary;\n    },\n  });\n  const [creating, setCreating] = useState(false);\n  const [error, setError] = useState(false);\n  const options = useMemo(\n    () =>\n      /* istanbul ignore next */\n      isDevelopment || isProduction\n        ? {params: {simulatedLatency: 1000}}\n        : undefined,\n    [],\n  );\n  const {items, loading, create, remove, update} = useTodoListService(options);\n  const handleDismissToast = useCallback(() => {\n    setError(false);\n  }, [setError]);\n\n  if (loading) {\n    return (\n      <SkeletonPage primaryAction title={i18n.translate('App.title')}>\n        <Card sectioned>\n          <SkeletonBodyText />\n        </Card>\n        <Loading />\n      </SkeletonPage>\n    );\n  }\n\n  return (\n    <ShareTranslations>\n      <Page\n        title={i18n.translate('App.title')}\n        primaryAction={{\n          content: i18n.translate('App.create'),\n          loading: creating,\n          async onAction() {\n            setCreating(true);\n\n            try {\n              await create();\n            } catch {\n              setError(true);\n            }\n\n            setCreating(false);\n          },\n        }}\n      >\n        <Card>\n          <TodoList items={items} remove={remove} update={update} />\n        </Card>\n        <FooterHelp>\n          {i18n.translate('App.footer', {\n            polarisLink: (\n              <Link url=\"https://polaris.shopify.com\">\n                {i18n.translate('App.polarisLink')}\n              </Link>\n            ),\n          })}\n        </FooterHelp>\n      </Page>\n      {error && (\n        <Toast\n          content={i18n.translate(`App.error`)}\n          onDismiss={handleDismissToast}\n          error\n        />\n      )}\n    </ShareTranslations>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n/* eslint-disable */\n/* istanbul ignore file */\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as {env: {[key: string]: string}}).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import {Theme} from '@shopify/polaris/types/components/ThemeProvider';\n\n/* istanbul ignore next */\nconst theme: Theme = {};\n\nexport default theme;\n","import React from 'react';\nimport {AppProvider, ThemeProvider} from '@shopify/polaris';\nimport {isDevelopment} from './env';\n\n/**\n * AppProvider and ThemeProvider still currently use componentWillReceiveProps\n * which is deprecated and generates a warning in React 16.9. This patch\n * function supresses the warning.\n */\nexport function patchPolarisForReact169() {\n  function supressDeprecationWarning(\n    ComponentClass: React.ComponentClass<any, any>,\n    lifecycle: keyof React.DeprecatedLifecycle<any, any>,\n  ) {\n    /* istanbul ignore else */\n    if (ComponentClass && ComponentClass.prototype[lifecycle]) {\n      ComponentClass.prototype[lifecycle].__suppressDeprecationWarning = true;\n    }\n  }\n\n  /* istanbul ignore if */\n  if (isDevelopment) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'supressing warnings for polaris usage of deprecated lifecycle functions',\n    );\n  }\n\n  supressDeprecationWarning(AppProvider, 'componentWillReceiveProps');\n  supressDeprecationWarning(ThemeProvider, 'componentWillReceiveProps');\n}\n","/* istanbul ignore file */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {I18nContext} from '@shopify/react-i18n';\nimport {AppProvider, Frame} from '@shopify/polaris';\nimport {App} from './components';\nimport {serviceWorker} from './server';\nimport {theme} from './style';\nimport {i18nManager, patchPolarisForReact169} from './utilities';\n\nimport '@shopify/polaris/styles.scss';\n\npatchPolarisForReact169();\n\nReactDOM.render(\n  <AppProvider theme={theme}>\n    <I18nContext.Provider value={i18nManager}>\n      <Frame>\n        <App />\n      </Frame>\n    </I18nContext.Provider>\n  </AppProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Icon\":\"TodoListItem_Icon__2N7wg\",\"CompletedItem\":\"TodoListItem_CompletedItem__3bSqz\",\"CompletedText\":\"TodoListItem_CompletedText__mQS01\"};"],"sourceRoot":""}